<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>VMware Centos7 | 杨家瑞的博客</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="...">
    
    <link rel="preload" href="/assets/css/0.styles.db0d048b.css" as="style"><link rel="preload" href="/assets/js/app.a9af9233.js" as="script"><link rel="preload" href="/assets/js/2.59228454.js" as="script"><link rel="preload" href="/assets/js/1.5739cfb0.js" as="script"><link rel="preload" href="/assets/js/34.1bac30e3.js" as="script"><link rel="prefetch" href="/assets/js/10.974ac213.js"><link rel="prefetch" href="/assets/js/11.f2c0161d.js"><link rel="prefetch" href="/assets/js/12.3a8e52cd.js"><link rel="prefetch" href="/assets/js/13.7a48dea7.js"><link rel="prefetch" href="/assets/js/14.6f479bb1.js"><link rel="prefetch" href="/assets/js/15.33db6b39.js"><link rel="prefetch" href="/assets/js/16.3689a3a5.js"><link rel="prefetch" href="/assets/js/17.ef4d8cc7.js"><link rel="prefetch" href="/assets/js/18.3256f17f.js"><link rel="prefetch" href="/assets/js/19.a45744ea.js"><link rel="prefetch" href="/assets/js/20.c22d9498.js"><link rel="prefetch" href="/assets/js/21.388c94d1.js"><link rel="prefetch" href="/assets/js/22.73185e29.js"><link rel="prefetch" href="/assets/js/23.2a96845d.js"><link rel="prefetch" href="/assets/js/24.a64ef5c5.js"><link rel="prefetch" href="/assets/js/25.46c07047.js"><link rel="prefetch" href="/assets/js/26.e75af6c4.js"><link rel="prefetch" href="/assets/js/27.4cf005dc.js"><link rel="prefetch" href="/assets/js/28.92e83a3d.js"><link rel="prefetch" href="/assets/js/29.3ab99c17.js"><link rel="prefetch" href="/assets/js/3.c33b3aaa.js"><link rel="prefetch" href="/assets/js/30.33a9a308.js"><link rel="prefetch" href="/assets/js/31.92edf1db.js"><link rel="prefetch" href="/assets/js/32.01443ace.js"><link rel="prefetch" href="/assets/js/33.acfb13da.js"><link rel="prefetch" href="/assets/js/35.d6b749fa.js"><link rel="prefetch" href="/assets/js/4.6ea5ee78.js"><link rel="prefetch" href="/assets/js/5.b31b942f.js"><link rel="prefetch" href="/assets/js/6.e19f463c.js"><link rel="prefetch" href="/assets/js/7.c6ff705a.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.5e19b665.js">
    <link rel="stylesheet" href="/assets/css/0.styles.db0d048b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="杨家瑞的博客" class="logo"> <span class="site-name can-hide">杨家瑞的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="杨家瑞的博客" class="dropdown-title"><span class="title">杨家瑞的博客</span> <span class="arrow down"></span></button> <button type="button" aria-label="杨家瑞的博客" class="mobile-dropdown-title"><span class="title">杨家瑞的博客</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://gitee.com/yangjiaruiaa" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="杨家瑞的博客" class="dropdown-title"><span class="title">杨家瑞的博客</span> <span class="arrow down"></span></button> <button type="button" aria-label="杨家瑞的博客" class="mobile-dropdown-title"><span class="title">杨家瑞的博客</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://gitee.com/yangjiaruiaa" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端学习</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>.NET</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Liunx学习</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/book/VMware Centos7.html" class="active sidebar-link">VMware</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/book/VMware Centos7.html#vmware简介" class="sidebar-link">VMware简介</a></li><li class="sidebar-sub-header"><a href="/book/VMware Centos7.html#linux操作系统" class="sidebar-link">Linux操作系统</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Docker</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>MicroService</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vmware-centos7"><a href="#vmware-centos7" class="header-anchor">#</a> VMware Centos7</h1> <h2 id="vmware简介"><a href="#vmware简介" class="header-anchor">#</a> VMware简介</h2> <p>虚拟机的实现原理：是宿主机的cpu运行模拟电脑任务进程，再根据系统镜像虚拟化出不同的系统主机，软件运行模拟系统硬件工作，从而虚拟化出来电脑系统，来做工作。</p> <p>虚拟这个词在于脱离了硬件，实现了一台设备的运行，可以由一台服务器提供多个设备运行，而且数据储存都于云端宿主机节约资源。</p> <h2 id="linux操作系统"><a href="#linux操作系统" class="header-anchor">#</a> Linux操作系统</h2> <p><strong>简介</strong></p> <p>Linux 是开源的重要的特点是支持多用户 多线程 继承unix32位/64 位cpu 32 最大内存就4g 1991年 10月5日 林纳斯 创建的linux操作系统有redhat CentOs ubuntu debian</p> <p>远程桌面端口   windows 3389  linux 22</p> <p><strong>分区</strong></p> <p>Linux也有同样的分区盘 系统盘 根分区（/boot 根分区）（/swap 分区）当物理内存不够时 使用 swap分区类似于windows 中的内存 一般给1g</p> <p><strong>目录结构</strong></p> <ul><li><p><strong>/bin</strong>：
bin 是 Binaries (二进制文件) 的缩写, 这个目录存放着最经常使用的命令。</p></li> <li><p><strong>/boot：</strong>
这里存放的是启动 Linux 时使用的一些核心文件，包括一些连接文件以及镜像文件。</p></li> <li><p><strong>/dev ：</strong>
dev 是 Device(设备) 的缩写, 该目录下存放的是 Linux 的外部设备，在 Linux 中访问设备的方式和访问文件的方式是相同的。</p></li> <li><p><strong>/etc：</strong>
etc 是 Etcetera(等等) 的缩写,这个目录用来存放所有的系统管理所需要的配置文件和子目录。</p></li> <li><p><strong>/home</strong>：
用户的主目录，在 Linux 中，每个用户都有一个自己的目录，一般该目录名是以用户的账号命名的，如上图中的 alice、bob 和 eve。</p></li> <li><p><strong>/lib</strong>：
lib 是 Library(库) 的缩写这个目录里存放着系统最基本的动态连接共享库，其作用类似于 Windows 里的 DLL 文件。几乎所有的应用程序都需要用到这些共享库。</p></li> <li><p><strong>/lost+found</strong>：
这个目录一般情况下是空的，当系统非法关机后，这里就存放了一些文件。</p></li> <li><p><strong>/media</strong>：
linux 系统会自动识别一些设备，例如U盘、光驱等等，当识别后，Linux 会把识别的设备挂载到这个目录下。</p></li> <li><p><strong>/mnt</strong>：
系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将光驱挂载在 /mnt/ 上，然后进入该目录就可以查看光驱里的内容了。</p></li> <li><p><strong>/opt</strong>：
opt 是 optional(可选) 的缩写，这是给主机额外安装软件所摆放的目录。比如你安装一个ORACLE数据库则就可以放到这个目录下。默认是空的。</p></li> <li><p><strong>/proc</strong>：
proc 是 Processes(进程) 的缩写，/proc 是一种伪文件系统（也即虚拟文件系统），存储的是当前内核运行状态的一系列特殊文件，这个目录是一个虚拟的目录，它是系统内存的映射，我们可以通过直接访问这个目录来获取系统信息。
这个目录的内容不在硬盘上而是在内存里，我们也可以直接修改里面的某些文件，比如可以通过下面的命令来屏蔽主机的ping命令，使别人无法ping你的机器：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>echo 1 &gt; /proc/sys/net/ipv4/icmp_echo_ignore_all
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p><strong>/root</strong>：
该目录为系统管理员，也称作超级权限者的用户主目录。</p></li> <li><p><strong>/sbin</strong>：
s 就是 Super User 的意思，是 Superuser Binaries (超级用户的二进制文件) 的缩写，这里存放的是系统管理员使用的系统管理程序。</p></li> <li><p><strong>/selinux</strong>：
这个目录是 Redhat/CentOS 所特有的目录，Selinux 是一个安全机制，类似于 windows 的防火墙，但是这套机制比较复杂，这个目录就是存放selinux相关的文件的。</p></li> <li><p><strong>/srv</strong>：
该目录存放一些服务启动之后需要提取的数据。</p></li> <li><p><strong>/sys</strong>：</p> <p>这是 Linux2.6 内核的一个很大的变化。该目录下安装了 2.6 内核中新出现的一个文件系统 sysfs 。</p> <p>sysfs 文件系统集成了下面3种文件系统的信息：针对进程信息的 proc 文件系统、针对设备的 devfs 文件系统以及针对伪终端的 devpts 文件系统。</p> <p>该文件系统是内核设备树的一个直观反映。</p> <p>当一个内核对象被创建的时候，对应的文件和目录也在内核对象子系统中被创建。</p></li> <li><p><strong>/tmp</strong>：
tmp 是 temporary(临时) 的缩写这个目录是用来存放一些临时文件的。</p></li> <li><p><strong>/usr</strong>：
usr 是 unix shared resources(共享资源) 的缩写，这是一个非常重要的目录，用户的很多应用程序和文件都放在这个目录下，类似于 windows 下的 program files 目录。</p></li> <li><p><strong>/usr/bin：</strong>
系统用户使用的应用程序。</p></li> <li><p><strong>/usr/sbin：</strong>
超级用户使用的比较高级的管理程序和系统守护程序。</p></li> <li><p><strong>/usr/src：</strong>
内核源代码默认的放置目录。</p></li> <li><p><strong>/var</strong>：
var 是 variable(变量) 的缩写，这个目录中存放着在不断扩充着的东西，我们习惯将那些经常被修改的目录放在这个目录下。包括各种日志文件。</p></li> <li><p><strong>/run</strong>：
是一个临时文件系统，存储系统启动以来的信息。当系统重启时，这个目录下的文件应该被删掉或清除。如果你的系统上有 /var/run 目录，应该让它指向 run。</p></li></ul> <h3 id="设置网络ip"><a href="#设置网络ip" class="header-anchor">#</a> 设置网络Ip</h3> <ol><li>先ping <a href="http://baidu.com/" target="_blank" rel="noopener noreferrer">baidu.com<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 看是否可上网</li> <li>cd /etc/sysconfig/network-scriprts/  到这个目录下</li> <li>.ls 查看当前目录下文件</li> <li>vi ifcfg-ens33 (这里可以en后按tab补全名称)编辑文件(如何编辑具体内容可以参考下方)</li></ol> <h3 id="网络适配器"><a href="#网络适配器" class="header-anchor">#</a> 网络适配器</h3> <p>VMware网络连接主要有三种方式，分别是桥接，NAT和Host-only。</p> <p><strong>桥接</strong>：直接使用的是真实机的物理网卡（有线网卡，无线网卡），会占用局域网中的一个IP，因此在设置虚拟机IP时要避免与同网段的其他IP冲突。虚拟机使用桥接连接网络可以将其看作是网络中的一台真实机，如果电脑连接了互联网，虚拟机也可以上网。</p> <p><strong>NAT</strong>：与桥接相似，所不同的是使用的是虚拟网卡（VMware Virtual Ethernet Adapter for VMnet8），虚拟网卡在安装VMware时自动生成。同时是共享主机的IP地址，没有独立的IP。</p> <p><strong>Host-only</strong>：使用虚拟网卡（VMware Virtual Ethernet Adapter for VMnet1）建立一个私有网络，只能与物理机通信，而不能访问互联网。</p> <p>NAT可以上网但是虚拟机ping不通主机</p> <p>桥接模式可以上网ping通主机</p> <p><strong>桥接静态IP网络设置</strong></p> <p>目的：ping baidu.com    ping主机</p> <p>vi /etc/sysconfig/network-scripts/</p> <blockquote><p>TYPE=&quot;Ethernet&quot;<br>
PROXY_METHOD=&quot;none&quot;
BROWSER_ONLY=&quot;no&quot;
BOOTPROTO=&quot;static&quot;
DEFROUTE=&quot;yes&quot;
IPV4_FAILURE_FATAL=&quot;no&quot;
IPV6INIT=&quot;yes&quot;
IPV6_AUTOCONF=&quot;yes&quot;
IPV6_DEFROUTE=&quot;yes&quot;
IPV6_FAILURE_FATAL=&quot;no&quot;
IPV6_ADDR_GEN_MODE=&quot;stable-privacy&quot;
NAME=&quot;ens33&quot;
UUID=&quot;f3a40da3-3b0c-46c8-935e-cb92aa4c37bb&quot;
DEVICE=&quot;ens33&quot;
ONBOOT=&quot;yes&quot;
IPADDR=192.168.1.22
NETMASK=255.255.255.0
GATEWAY=192.168.1.1
DNS1=192.168.1.1
DNS2=8.8.8.8
ZONE=public</p></blockquote> <p>TYPE：以太网
BOOTPROTO:static 静态 IP
NAME 和 DEVICE：文件名和计算机名
ONBOOT：开机启动网络
IPADDR：IP地址（前三段要和步骤一中前三段一致，第四段可设置 1-255 中任意值）
NETMASK:子网掩码（固定的 255.255.255.0）
GATEWAY：用主机的网关
DNS：域名解析器
192.168.1.1：自己的网关
114.114.114.114：中国联通、移动、电信的
8.8.8.8：谷歌的</p> <blockquote><p>重启网络</p> <p>service network restart</p></blockquote> <h3 id="解决网络问题"><a href="#解决网络问题" class="header-anchor">#</a> 解决网络问题</h3> <ul><li><p>ping 不通baidu.com</p> <p>1.关闭虚拟机防火墙</p> <p>2.网络配置查看是否正确（网关GATEWAY）</p> <p>3.桥接指定网络  任务管理器-&gt;性能-&gt;查看自己主机连的网-&gt;编辑虚拟机网络</p></li> <li><p>设置静态ip 桥接模式 ping不通 主机</p> <p>1.关闭主机和虚拟机的防火墙</p> <p>2.主机控制面板-&gt;网络和共享中心-&gt;进入更改高级共享设置-&gt;在“专用”或“来宾或公用”的下拉栏，选中“启用文件和打印机共享/或者关闭”（也可以选择在创建虚拟机时将打印机删掉）</p></li></ul> <h3 id="网络相关命令"><a href="#网络相关命令" class="header-anchor">#</a> 网络相关命令</h3> <table><thead><tr><th style="text-align:left;">描述</th> <th style="text-align:left;">示例</th> <th style="text-align:left;">备注</th></tr></thead> <tbody><tr><td style="text-align:left;">查看本机IP及网卡信息</td> <td style="text-align:left;"><code>ip addr</code></td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">重启网络</td> <td style="text-align:left;"><code>service network restart</code></td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">防火墙添加端口例外</td> <td style="text-align:left;"><code>firewall-cmd --add-port=8080/tcp --permanent</code></td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">重新加载防火墙</td> <td style="text-align:left;"><code>firewall-cmd --reload</code></td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">启动防火墙，也可以使用 <code>service firewalld start</code></td> <td style="text-align:left;"><code>systemctl start firewalld.service</code></td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">停止防火墙，也可以使用 <code>service firewalld stop</code></td> <td style="text-align:left;"><code>systemctl stop firewalld.service</code></td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">启用防火墙</td> <td style="text-align:left;"><code>systemctl enable firewalld.service</code></td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">重启防火墙</td> <td style="text-align:left;"><code>service firewalld restart</code></td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">查看端口列表，也可以使用 <code>firewall-cmd --list-all</code></td> <td style="text-align:left;"><code>firewall-cmd --permanent --list-port</code></td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">查看防火墙状态</td> <td style="text-align:left;"><code>firewall-cmd --state</code></td> <td style="text-align:left;"></td></tr></tbody></table></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/book/Dotnet基础.html" class="prev">
        .NET基础
      </a></span> <span class="next"><a href="/book/Docker.html">
        Docker概念及基本使用
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a9af9233.js" defer></script><script src="/assets/js/2.59228454.js" defer></script><script src="/assets/js/1.5739cfb0.js" defer></script><script src="/assets/js/34.1bac30e3.js" defer></script>
  </body>
</html>
